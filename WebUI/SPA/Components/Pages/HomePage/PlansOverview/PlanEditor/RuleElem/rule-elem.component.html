<form #form="ngForm">

    <div class="frame">
        <div class="close" (click)="onRemoveClicked()">X</div>
        <div class="when-section">

            <span class="h3 when-label">WHEN</span>

            <br />
            <select class="drop-down" name="ordinalfrequency" [(ngModel)]="viewModel.RuleCLO.OrdinalFrequencyType">
                <option *ngFor="let ordFreq of ordinalFreqTypesEnum | enumkeys" [value]="ordFreq.value">{{ordFreq.key}}</option>
            </select>
            <select class="drop-down" name="rulefreq" [(ngModel)]="viewModel.RuleCLO.FrequencyType">
                <option *ngFor="let freqType of ruleFreqTypesEnum | enumkeys" [value]="freqType.value">{{freqType.key}}</option>
            </select>
            <div [class.hidden-non-daily-controls-div]="viewModel.HideNonDailyControlsDiv==true"
                 class="non-daily-controls-div">
                <span class="label on-label">on</span>
                <div class="week-days-list">
                    <div class="check-box-label-pair">
                        <input name="monday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Monday" type="checkbox" />
                        <span class="label">MON</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="tuesday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Tuesday" type="checkbox" />
                        <span class="label">TUE</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="wednesday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Wednesday" type="checkbox" />
                        <span class="label">WED</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="thursday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Thursday" type="checkbox" />
                        <span class="label">THU</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="friday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Friday" type="checkbox" />
                        <span class="label">FRI</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="saturday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Saturday" type="checkbox" />
                        <span class="label">SAT</span>
                    </div>
                    <div class="check-box-label-pair">
                        <input name="sunday" [(ngModel)]="viewModel.RuleCLO.DaysInWeek.Sunday" type="checkbox" />
                        <span class="label">SUN</span>
                    </div>
                </div>
            </div>
            <div class="moments-in-day-div">
                <span class="label at-label">at</span>
                <p-chips id="moments-in-day-input"
                         name="momentsinday"
                        
                         [styleClass]="viewModel.ShowChipsInputInvalid ? 'chips-input' : ''"
                         addOnTab="true"
                         addOnBlur="true"
                         placeholder="Type in format HH:MM"
                         (onAdd)="onAddMomentInDay($event.value)"
                         (onRemove)="onRemoveMomentInDay($event.value)"
                         [(ngModel)]="viewModel.MomentsInDayAsStrings"></p-chips>
            </div>
        </div>
        <div class="what-section">
            <ifrp-group-list #ifrpgrouplist
                             [IFRPGroupCLOs]="viewModel.RuleCLO.MedicineRuleItems"
                             [AvailableMedicineTypes]="availableMedicineTypes"
                             (ValidStateChanged)="onGroupListValidStateChanged()"
                             (AddNewClicked)="onAddIFRPGroupTriggered()"></ifrp-group-list>
        </div>

    </div>

</form>

